[TOC]





# 可恶的node_modules

https://www.jianshu.com/p/b4bf50823b50



## 本地安装

-   1\. 将安装包放在 ./node\_modules 下（运行 npm 命令时所在的目录），如果没有 node\_modules 目录，会在当前执行 npm 命令的目录下生成 node_modules 目录。
-   2\. 可以通过 require() 来引入本地安装的包。

## 全局安装

-   1\. 将安装包放在 /usr/local 下或者你 node 的安装目录。
-   2\. 可以直接在命令行里使用。

如果你希望具备两者功能，则需要在两个地方安装它或使用 **npm link**。






清node_modules 出现某一些包错误时候，查不到原因时候，可以适当的清除缓存试试。删掉重新安装

```
rm -rf node_modules
npm cache clean
npm install
```

ackage.json文件可以手工编写，也可以使用`npm init`命令自动生成。

```
$ npm init

```

这个命令采用互动方式，要求用户回答一些问题，然后在当前目录生成一个基本的package.json文件。所有问题之中，只有项目名称（name）和项目版本（version）是必填的，其他都是选填的。

有了package.json文件，直接使用npm install命令，就会在当前目录中安装所需要的模块。

```
$ npm install

```

如果一个模块不在`package.json`文件之中，可以单独安装这个模块，并使用相应的参数，将其写入`package.json`文件之中。

```
$ npm install express --save
$ npm install express --save-dev

```

上面代码表示单独安装express模块，`--save`参数表示将该模块写入`dependencies`属性，`--save-dev`表示将该模块写入`devDependencies`属性。


https://www.cnblogs.com/xilego/p/6906601.html

基于node.js 创建的工程，通常会有一个 package.json 文件。不过，有时候，你会发现有的工程并没有这个package.json文件，但工程也可以正常运行，这是怎么回事呢？

package.json文件可以没有，但node_modules这个文件夹肯定会有的。 这就是说，有两种方法添加node的modules。

第一种方法： 通过生成package.json文件，编辑这个文件，再通过 npm install 。 这时候，我们只需要把依赖包添加到package.json文件中。

第二种方法： 不用package.json， 而是直接通过 npm install moduleName的方式，逐个添加依赖包。

这么看来， package.json文件，即使没有这个文件也没关系。 考虑到项目的完整性和可维护性， 还是加上为好。 安装的的方法很简单：

1\.  一开始，通过  npm init  指令，自动生成一个 package.json 文件； 

2\.    接下来， 用npm install --save 指令， 将所依赖的module加载到node_modules 文件夹中。

# 你们家的 nodejs， node_modules 太占空间了。。。
https://www.v2ex.com/t/453676




------------------------------



解决方法：使用npm的一个名为`rimraf`的模块进行删除

官方描述：The UNIX command `rm -rf` for node，即node环境下模拟unix或者linux下的`rm -rf`（强制删除命令）

-   安装（推荐全局安装）：   
    `npm install -g rimraf`
    
-   使用：   
    `cd xxx [the folder which includes node_modules folder]`   
    `rimraf node_modules`
    

**注意事项：**   
该方法也可用于删除其他文件，类似于Windows的彻底删除`Ctrl+Shift+Delete`，一旦删除就不能恢复（回收站里没有），所以删除之前一定要确保文件已经不再被需要！

## 删除node_modules文件夹

### 方法一：

```
npm install rimraf -g
rimraf node_modules
```

### 方法二：

```
rmdir /s/q your_app_dir
```

### 方法三：

rm -f /node_modules






# node_modules文件夹查找规则



https://blog.csdn.net/weixin_37530939/article/details/103595673



package.json文件的作用
项目描述文件，记录了当前项目信息，例如项目名称、版本、作者、github地址、当前项目依赖了哪些第三方模块等。
项目根目录 -y 使用默认值






