




https://mercury-in.space/crash.html

https://www.mercurylang.org/information/doc-release/mercury_ref/index.html


对标prolog,haskell的野心，想做高性能的逻辑编程语言







https://www.mercurylang.org/documentation/papers/book.pdf

# 1. Mercury是一种纯逻辑编程语言



https://www.mercurylang.org/documentation/documentation.html








尽管逻辑编程语言在理论上优于命令式编程语言（例如C，C ++，Pascal和Ada），但是现有的逻辑编程语言（例如Prolog）并未在工业上广泛用于编写应用程序。造成这种情况的两个主要原因是

与命令式编程语言的编译器相比，当前逻辑编程语言的编译器在程序中检测到的错误要少得多。因此，程序员必须自己找到所有错误，通常需要很少的调试支持。这大大降低了生产率。

逻辑编程语言的实现比诸如C之类的命令性语言的实现要慢得多。因此，对性能很重要的应用程序设计人员甚至不考虑逻辑编程语言。
我们正在开发一种新型的逻辑编程语言，可以解决这两个问题。我们的新语言Mercury具有强大的类型和模式系统，可在编译时检测到很大比例的程序错误。然后由类型和模式系统提供的信息使我们能够显着提高实现效率。同时，与Prolog不同，Mercury保留了逻辑编程语言的所有所需属性。例如，Mercury本身没有副作用，因此可以防止大类错误，这些错误会困扰以命令式语言编写的程序。它还使我们能够以用命令式语言或Prolog编写的程序无法实现的方式来转换和优化Mercury程序。




我们正在用Mercury本身编写Mercury编译器。我们使用NU-Prolog和SICStus Prolog进行引导，直到编译器能够自行编译为止。编译器的类型，模式和确定性检查器共同防止了编译器本身中的数百个错误。传统的Prolog系统无法进行此类检查。因此，如果我们仅在Prolog中进行编程，则将不会检测到许多错误，而要定位其余错误则需要手动跟踪编译器的执行情况，每个错误要花费几个小时。实际上，Mercury编译器会自动找出这些错误，并且由于错误消息的帮助，我们发现大多数错误都非常容易修复。




我们的经验强烈支持我们最初的推测，即Mercury是一种舒适的编程语言，并且与Prolog相比，在Mercury中生成可靠的程序要容易得多。到目前为止，我们已经实现的功能数量也强烈表明，与诸如C，C ++，Pascal或Ada之类的命令性语言相比，用Mercury生成可靠的程序要容易得多。

我们广泛的基准测试表明，我们的实现速度几乎是现有最快的逻辑编程系统Aquarius Prolog的两倍，是SICStus Prolog的本机编译器的五倍，是Quintus Prolog的十倍，并且是20到36倍与使用字节码解释器的其他Prolog实现一样快。

水星不牺牲速度的便携性。虽然以前的快速逻辑编程系统生成本机代码，因此只能在几种类型的系统上运行，但我们生成的C代码几乎可以在所有软件和硬件平台上进行编译。

Aquarius和其他高性能Prolog系统的优化基于全局分析收集的信息。这些分析必须近似以保持分析时间合理。大型程序往往需要更多的近似值，这会使优化效果降低。尽管仅使用谓词级和模块级分析，但Mercury从未进行近似，因此即使对于最大的程序也保持其速度。

我们在1993年10月设计了Mercury执行算法。从1993年12月开始研究Mercury编译器。在1994年5月左右开始进行语义分析。在1994年8月左右开始生成代码；在1994年8月开始生成代码。我们很快就开始了优化工作。编译器于1995年2月24日成功进行了自我编译。该系统的第一个公开beta版本是1995年7月18日的0.3版。1995年9月15日在0.4版中引入了事件探查器。 1996年2月15日发布了0.5版。1996年8月2日在0.6版中引入了功能语法，类型和模式推断。1997年8月15日发布的0.7版引入了通用I / O谓词，并且是第一个提供跨模块优化的工具。







