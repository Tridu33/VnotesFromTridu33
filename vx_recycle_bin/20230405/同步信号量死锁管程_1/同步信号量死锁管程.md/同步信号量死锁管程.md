




```
semaphore S = 0;
P1()
{
 一些操作代码...；
 x； // 语句x；
 V（S）// 唤醒另外P进程
}
P2
{
 P(S); // 一直堵塞P2进程，等待唤醒
 Y; // 被唤醒，执行正事
}
```
```
关中断；
临界区；
开中断；

```



记录型信号量





```
typedef struct
{
 int value;
 struct process *L;// 构造等待序列
}semaphore;
void wait(semaphore S)
{
 S.value --;
 if(S.value < 0)
 {
 add this process to S.l;
 block(S.L); // 放弃处理机，插入等待序列
 }
}
void signal (semaphore S)
{
 S.value++;
 if(S.value > 0)
 {
 remove a process P from S.L;
 // 告诉阻塞进程P，来资源了，可以干活
 wakeup(P);
 }
}
```
# 1. 

https://www.bilibili.com/video/BV1YE411D7nH?p=18

同步信号量



死锁 https://www.bilibili.com/video/BV1YE411D7nH?p=29


管程 https://www.bilibili.com/video/BV1YE411D7nH?p=28










