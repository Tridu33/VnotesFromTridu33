# 1. squirrel-fundation旨在为企业使用提供轻量级，高度灵活和可扩展，可诊断，易于使用且类型安全的Java状态机实现

https://github.com/hekailiang/squirrel




https://www.yangguo.info/2015/02/01/squirrel/ 教程入门

有限状态机是一种用来进行对象行为建模的工具，其作用主要是描述对象在它的生命周期内所经历的状态序列，以及如何响应来自外界的各种事件。在电商场景（订单、物流、售后）、社交（IM消息投递）、分布式集群管理（分布式计算平台任务编排）等场景都有大规模的使用。
https://segmentfault.com/a/1190000009906317

状态机引擎选型


squirrel-foundation(503stars)，spring-statemachine(305stars)，stateless4j(293stars)，




使用**状态机来管理对象生命流**的好处更多体现在代码的可维护性、可测试性上，明确的状态条件、原子的响应动作、事件驱动迁移目标状态，对于流程复杂易变的业务场景能大大减轻维护和测试的难度。


状态机是AI（当然，不光是AI了）中常用的一种架构，有很多中实现方式，总体来说对于表达简单逻辑，还是很有帮助的，而且实现简单，甚至用一个switch-case就可以了，但在实践中状态机有一个致命的缺点，当状态一旦多了之后，它的跳转就会变的不可维护，假设有n个状态的话，那我们就需要维护最多n*n的跳转链接（因为状态机允许自己跳转自己），而且对于当前处在的状态而言，我不能知道我的跳转历史，也就是说，我很难知道为什么我会在这个状态里。这也就是为什么**行为树**现在成为相对主流的AI架构的原因。

从FSM到**HSM**
　　简单来说，就是FSM当状态太多的时候，不好维护，于是将状态分类，抽离出来，将同类型的状态做为一个状态机，然后再做一个大的状态机，来维护这些子状态机。


如果想要用状态机作为AI整体架构的话，现在都会选择层次化状态机结构(HFSM)，并在一定程度上规范状态机的跳转行为。据我所知，微软的著名游戏光环2(Halo2)里就用到了层次化状态机的结构。

http://www.aisharing.com/archives/393





























































