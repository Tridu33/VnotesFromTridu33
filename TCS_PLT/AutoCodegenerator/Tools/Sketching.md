# Sketching








Program synthesis by sketching



软件综合的目标是根据高级规范自动生成程序。但是，对于具有挑战性的程序，有效的实现需要高层算法洞察力和低层实现细节的结合。导出底层细节对于计算机而言是很自然的工作，但是合成器无法替代人类的见识。因此，软件综合的主要挑战之一是在程序员和合成器之间建立协同作用，利用程序员的专业知识来减轻合成器的负担。

本文介绍了草绘，一种新的合成方式，为解决协同问题提供了一种新方法。先前的方法依赖于元编程或交互式定理的各种变体，以帮助合成器推断出有效的实现。最终的系统功能非常强大，但是它们要求程序员掌握新的形式主义，而这种形式主义是传统编程模型所不具备的。为了使综合易于使用，程序员必须能够使用他们已经了解的形式主义轻松地提供他们的见解。

在“草绘”中，通过部分程序（草绘）传达见解表示实现的高级结构，但留有空位代替低级细节。一种新的基于SAT的归纳合成程序使这种形式的合成成为可能，该程序可以有效地**从少量测试用例中综合实现**。该算法构成了新的反导制感应合成程序（CEGIS）的核心，该程序将感应合成器与验证程序结合在一起，以自动生成测试输入并确保生成的程序满足其规范。通过一些扩展，CEGIS甚至可以使用其顺序感应合成器来生成并发程序。

最终的综合系统可扩展到从位域密码到链接数据结构操纵等多个领域的实际编程问题。该系统甚至被用于生成AES密码的完整优化实施。并发感知合成器还可以在短短几分钟内合成并发集的精细锁定方案，感知反转障碍甚至餐饮哲学家问题的解决方案的细节。

该系统还扩展了领域知识，以更好地处理实现模版计算的问题，这是科学计算中的一个重要领域。对于这个领域，我们能够将领域特定的见解编码为问题的减少，从而将模板草图转换为简化的草图问题，CEGIS在几分钟之内即可解决。这种专业的合成器用于快速实现针对偏微分方程的MultiGrid求解器，其中包含文献中的许多困难的实现策略。

简而言之，本论文表明，素描是使综合在一般编程环境中可行的一种可行方法。













