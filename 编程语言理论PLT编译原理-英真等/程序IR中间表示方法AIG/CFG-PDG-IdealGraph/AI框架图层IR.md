# 1. AI框架图层IR



  [AI框架中图层IR的分析 - 知乎](https://zhuanlan.zhihu.com/p/263420069)


AI框架本质的作用在于把一个把用户的**模型表达翻译到可执行的代码**，然后进行高效执行（训练和推理），其中从用户的模型表达（例如深度神经网络）到最后可执行的代码就是个编译器的行为，这个编译器也有一个IR，它的设计对AI框架的完备性/灵活性/易用性/性能都起到至关重要的作用；本文重点分析一下AI框架对IR有什么特殊的需求、业界有什么样的方案以及MindSpore的一些思考。

在开始之前，我想先介绍一些背景知识—通用的编译器IR的分类以及各自特点

IR根据其组织结构，可以分为：

Linear IR（线性IR）：类似某些抽象机的伪代码，对应的算法通过迭代来遍历简单的线性操作序列。

Graphical IR（图IR）：将编译过程的知识/信息保存在图中，对应的算法通过对图中的对象（节点、边、列表和树）操作来描述。

Hybrid IR（混合IR）：结合了图IR和线性IR的要素。一种常见的混合IR使用底层的线性IR来表示无循环代码块，使用图IR来表示这些块之间的控制流。





















